<div class="flex min-h-screen flex-col">
  <!-- Header -->
  <header
    class="sticky top-0 z-50 border-b border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-800"
  >
    <div class="flex h-14 items-center justify-between px-4 lg:px-6">
      <div class="flex items-center gap-3">
        <span class="text-2xl" aria-hidden="true">ğŸ™</span>
        <h1 class="text-lg font-bold text-slate-900 lg:text-xl dark:text-white">HydraDNS</h1>
        <span
          class="hidden rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-700 sm:inline-block dark:bg-blue-900 dark:text-blue-300"
        >
          DNS Server
        </span>
      </div>
      <div class="flex items-center gap-4">
        <div class="hidden items-center gap-2 text-sm text-slate-500 sm:flex dark:text-slate-400">
          <span class="h-2 w-2 rounded-full bg-green-500" aria-hidden="true"></span>
          <span>Server Online</span>
        </div>
        <a
          href="/swagger/index.html"
          target="_blank"
          rel="noopener noreferrer"
          class="rounded-md bg-slate-100 px-3 py-1.5 text-sm font-medium text-slate-700 transition-colors hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"
        >
          API Docs
        </a>
      </div>
    </div>
  </header>

  <!-- Main layout with sidebar and content -->
  <div class="flex flex-1 bg-slate-100 dark:bg-slate-900">
    <!-- Mobile menu button -->
    <button
      type="button"
      class="fixed left-4 top-18 z-50 rounded-md bg-white p-2 shadow-md lg:hidden dark:bg-slate-800"
      (click)="sidebarOpen.set(!sidebarOpen())"
      [attr.aria-expanded]="sidebarOpen()"
      aria-controls="sidebar"
      aria-label="Toggle navigation"
    >
      <svg
        class="h-6 w-6 text-slate-600 dark:text-slate-300"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        @if (sidebarOpen()) {
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          />
        } @else {
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"
          />
        }
      </svg>
    </button>

    <!-- Sidebar -->
    <aside
      id="sidebar"
      class="fixed inset-y-14 left-0 z-40 w-64 transform bg-white shadow-lg transition-transform lg:static lg:translate-x-0 dark:bg-slate-800"
      [class]="sidebarOpen() ? 'translate-x-0' : '-translate-x-full'"
    >
      <div
        class="flex h-12 items-center gap-2 border-b border-slate-200 px-4 dark:border-slate-700"
      >
        <span
          class="text-sm font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"
          >Navigation</span
        >
      </div>
      <nav class="mt-4 px-4" aria-label="Main navigation">
        <ul class="space-y-1">
          <li>
            <a
              routerLink="/dashboard"
              routerLinkActive="bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"
              class="flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium text-slate-700 transition-colors hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700"
              (click)="sidebarOpen.set(false)"
            >
              <span class="text-lg">ğŸ“Š</span>
              Dashboard
            </a>
          </li>
          <li>
            <a
              routerLink="/filtering"
              routerLinkActive="bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"
              class="flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium text-slate-700 transition-colors hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700"
              (click)="sidebarOpen.set(false)"
            >
              <span class="text-lg">ğŸ›¡ï¸</span>
              Filtering
            </a>
          </li>
          <li>
            <a
              routerLink="/custom-dns"
              routerLinkActive="bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"
              class="flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium text-slate-700 transition-colors hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700"
              (click)="sidebarOpen.set(false)"
            >
              <span class="text-lg">ğŸ”§</span>
              Custom DNS
            </a>
          </li>
          <li>
            <a
              routerLink="/configuration"
              routerLinkActive="bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"
              class="flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium text-slate-700 transition-colors hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700"
              (click)="sidebarOpen.set(false)"
            >
              <span class="text-lg">âš™ï¸</span>
              Configuration
            </a>
          </li>
        </ul>
      </nav>
    </aside>

    <!-- Backdrop -->
    @if (sidebarOpen()) {
      <div
        class="fixed inset-0 top-14 z-30 bg-black/50 lg:hidden"
        (click)="sidebarOpen.set(false)"
        aria-hidden="true"
      ></div>
    }

    <!-- Main content -->
    <main class="flex-1 overflow-auto">
      <div class="p-6 lg:p-8">
        <router-outlet />
      </div>
    </main>
  </div>

  <!-- Footer -->
  <footer class="border-t border-slate-200 bg-white py-4 dark:border-slate-700 dark:bg-slate-800">
    <div
      class="flex flex-col items-center justify-between gap-2 px-4 text-sm text-slate-500 sm:flex-row lg:px-6 dark:text-slate-400"
    >
      <div class="flex items-center gap-2">
        <span>Â© {{ currentYear }} HydraDNS</span>
        <span class="hidden sm:inline">â€¢</span>
        <span class="hidden sm:inline">High-Performance DNS Server</span>
      </div>
      <div class="flex items-center gap-4">
        <a
          href="https://github.com/jroosing/hydradns"
          target="_blank"
          rel="noopener noreferrer"
          class="transition-colors hover:text-slate-700 dark:hover:text-slate-300"
        >
          GitHub
        </a>
        <a
          href="/swagger/index.html"
          target="_blank"
          rel="noopener noreferrer"
          class="transition-colors hover:text-slate-700 dark:hover:text-slate-300"
        >
          API Reference
        </a>
      </div>
    </div>
  </footer>
</div>
