server:
  host: "0.0.0.0"
  port: 1053
  workers: auto
  enable_tcp: true
  tcp_fallback: true

upstream:
  servers:
    - "9.9.9.9"
    - "1.1.1.1"
    - "8.8.8.8"
  udp_timeout: "3s"
  tcp_timeout: "5s"
  max_retries: 3

zones:
  directory: "zones"

logging:
  level: "INFO"
  structured: false
  structured_format: "json"
  include_pid: false

filtering:
  enabled: false
  log_blocked: true
  log_allowed: false

  whitelist_domains:
    - "safe.example.com"
    - "allowed.ads.com"
  blacklist_domains:
    - "ads.example.com"
    - "tracker.example.com"
  blocklists:
    - name: "hagezi-light"
      url: "https://cdn.jsdelivr.net/gh/hagezi/dns-blocklists@latest/adblock/light.txt"
      format: "adblock"
  refresh_interval: "24h"

rate_limit:
  cleanup_seconds: 60
  max_ip_entries: 65536
  max_prefix_entries: 16384
  global_qps: 100000
  global_burst: 100000
  prefix_qps: 10000
  prefix_burst: 20000
  ip_qps: 3000
  ip_burst: 6000

api:
  enabled: true
  host: "127.0.0.1"
  port: 8080
  api_key: ""